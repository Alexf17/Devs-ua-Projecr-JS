!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n),n("iE7OH").register(JSON.parse('{"EVgbq":"index.522ea660.js","e5oy7":"filmWrap.dabdf2b2.jpg","6IIJ4":"my-library.5c06cf81.js"}')),n("kFJWu");var s,i=n("bpxeT"),l=n("2TvXO"),c=n("awCm4"),o=n("lmjT0"),u=n("5118m");s=n("aNJCr").getBundleURL("EVgbq")+n("iE7OH").resolve("e5oy7");var d=n("4Nugj");function f(e,t){e;var r="",a=e-1,n=e+1,s=e+2;e>1&&(r+='<li class="paginationRow">&#129144;</li>'),e>1&&(r+="<li>1</li>"),e>4&&(r+="<li>...</li>"),e>3&&(r+="<li>".concat(e-2,"</li>")),e>2&&(r+="<li>".concat(a,"</li>")),r+='<li class="paginationPage--current">'.concat(e,"</li>"),t-1>e&&(r+="<li>".concat(n,"</li>")),t-2>e&&(r+="<li>".concat(s,"</li>")),t-3>e&&(r+="<li>...</li>"),t>e&&(r+='<li class="avd">'.concat(e+5,"</li>"),r+='<li class="paginationRow">&#129146;<li>'),d.refs.paginationBox.innerHTML=r}var p=n("6jzso");function m(){d.refs.bodyEl.classList.add("no-scroll"),d.refs.preloaderEl.classList.remove("preloader--hide"),setTimeout((function(){d.refs.bodyEl.scrollIntoView({top:0,behavior:"smooth"})}),100)}function g(){d.refs.bodyEl.classList.remove("no-scroll");var e=Array.from(d.refs.imgElArr);0===e.length&&d.refs.preloaderEl.classList.add("preloader--hide"),e.forEach((function(t,r){t.onload=function(){r===e.length-1&&d.refs.preloaderEl.classList.add("preloader--hide")}}))}function b(e){d.refs.preloaderEl.classList.add("preloader--hide"),d.refs.bodyEl.classList.remove("no-scroll"),window.removeEventListener("load",b)}(d=n("4Nugj")).refs.bodyEl.classList.add("no-scroll"),d.refs.preloaderEl.classList.remove("preloader--hide"),window.addEventListener("load",b);d=n("4Nugj");var v=new(0,o.default);d.refs.paginationBox.addEventListener("click",(function(e){return E.apply(this,arguments)}));var h=0;function _(e){return x.apply(this,arguments)}function x(){return(x=e(i)(e(l).mark((function t(r){var a,n;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r;case 2:return a=t.sent,d.refs.fetchDataValue=a,n=a.map((function(t){var r=t.id,a=t.poster_path,n=t.title,i=t.genre_ids,l=t.release_date;return'<li class="film__item">\n        <a class="film__link" id="'.concat(r,'">\n  <div class="film__wrap">\n      <img src=').concat(a?"https://image.tmdb.org/t/p/original".concat(a):e(s),' class="film-item__img" alt="').concat(n,'" width="300">\n  </div>\n  <div class="wrap__film>\n  <div class="film__title-wrap">\n  <h3 class="film__title">').concat(n,'</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">').concat((0,c.searchGenresById)(i)?(0,c.searchGenresById)(i):"Unknown genre",'</p>\n  <p class="film__release-date">').concat(l?new Date(l).getFullYear():"Nobody knows","</p>\n\n   </div>\n   </div>\n   </a>\n   </li>")})).join(""),(0,u.renderFoo)(n,d.refs.cardListEl),t.next=8,f(v.pageNumber,v.totalPages);case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=e(i)(e(l).mark((function t(r){var a,n,s,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(),"LI"===r.target.nodeName){e.next=3;break}return e.abrupt("return");case 3:if("ðŸ¡¸"!==r.target.textContent){e.next=13;break}return v.setPageNumber(h-=1),e.next=7,v.fetchPopularsFilmsh();case 7:return a=e.sent,(0,p.cleanerMarkup)(cardListEl),_(a),f(v.pageNumber,v.totalPages),g(),e.abrupt("return");case 13:if("ðŸ¡º"!==r.target.textContent){e.next=26;break}return v.setPageNumber(h+=1),console.log(v.pageNumber),v.getFIlm(),console.log(v.filmName),e.next=20,v.fetchPopularsFilms();case 20:return n=e.sent,(0,p.cleanerMarkup)(cardListEl),_(n),f(v.pageNumber,v.totalPages),g(),e.abrupt("return");case 26:if("..."!==r.target.textContent){e.next=29;break}return g(),e.abrupt("return");case 29:return s=r.target.textContent,v.setPageNumber(Number(s)),e.next=33,v.fetchPopularsFilms();case 33:i=e.sent,(0,p.cleanerMarkup)(cardListEl),_(i),f(v.pageNumber,v.totalPages),g();case 38:case"end":return e.stop()}}),t)})))).apply(this,arguments)}_(v.fetchPopularsFilms());i=n("bpxeT"),l=n("2TvXO"),o=n("lmjT0"),p=n("6jzso"),c=n("awCm4"),u=n("5118m"),d=n("4Nugj");var N=0,w=new(0,o.default);function y(){return(y=e(i)(e(l).mark((function t(r){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a=r.target.elements[0].value.trim(),d.refs.expFilmName=a,!a){e.next=7;break}m(),(0,p.cleanerMarkup)(d.refs.cardListEl),w.setFilmName(a),k(w.fetchFilmsByName()),e.next=9;break;case 7:return F(),e.abrupt("return");case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function k(e){return L.apply(this,arguments)}function L(){return(L=e(i)(e(l).mark((function t(r){var a,n;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r;case 2:if(a=t.sent,d.refs.fetchDataValue=a,a.length){t.next=9;break}return t.next=7,F();case 7:t.next=16;break;case 9:return d.refs.headerErrorEl.classList.add("visually-hidden"),n=a.map((function(t){var r=t.id,a=t.poster_path,n=t.title,i=t.genre_ids,l=t.release_date;return'<li class="film__item"><div class="test">\n        <a class="film__link" id="'.concat(r,'">\n  <div class="film__wrap">\n  <img src=').concat(a?"https://image.tmdb.org/t/p/original".concat(a):e(s),' class="film-item__img" alt="').concat(n,'" width="300">\n  </div>\n  <div class= "film__info">\n  <div class="film__title-wrap">\n  <h3 class="film__title">').concat(n,'</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">').concat((0,c.searchGenresById)(i)?(0,c.searchGenresById)(i):"Unknown genre",'</p>\n  <p class="film__release-date">').concat(l?new Date(l).getFullYear():"Nobody knows","</p>\n  </div>\n  \n   </div>\n   </div>\n   </a>\n   </li>")})).join(""),(0,u.renderFoo)(n,d.refs.cardListEl),g(),console.log(w.totalPages),f(w.pageNumber,w.totalPages),t.abrupt("return",n);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(){g(),d.refs.headerErrorEl.classList.remove("visually-hidden"),d.refs.headerFormEl.reset()}function P(){return(P=e(i)(e(l).mark((function t(r){var a,n,s,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.getFIlmName()){e.next=4;break}return e.abrupt("return");case 4:if(m(),"LI"===r.target.nodeName){e.next=7;break}return e.abrupt("return");case 7:if("ðŸ¡¸"!==r.target.textContent){e.next=17;break}return w.setPageNumber(N-=1),w.getFIlmName(),e.next=12,w.fetchFilmsByName();case 12:return a=e.sent,(0,p.cleanerMarkup)(cardListEl),k(a),f(w.pageNumber,w.totalPages),e.abrupt("return");case 17:if("ðŸ¡º"!==r.target.textContent){e.next=29;break}return console.log(w.getFIlmName()),w.setPageNumber(N+=1),console.log(w.pageNumber),w.getFIlmName(),e.next=24,w.fetchFilmsByName();case 24:return n=e.sent,(0,p.cleanerMarkup)(cardListEl),k(n),f(w.pageNumber,w.totalPages),e.abrupt("return");case 29:if("..."!==r.target.textContent){e.next=31;break}return e.abrupt("return");case 31:return s=r.target.textContent,w.setPageNumber(Number(s)),e.next=35,w.fetchFilmsByName();case 35:i=e.sent,(0,p.cleanerMarkup)(cardListEl),k(i),f(w.pageNumber,w.totalPages),g();case 40:case"end":return e.stop()}}),t)})))).apply(this,arguments)}d.refs.paginationBox.addEventListener("click",(function(e){return P.apply(this,arguments)})),d.refs.headerFormEl.addEventListener("submit",(function(e){return y.apply(this,arguments)})),n("35fFx"),n("iWBTv"),n("3jSZ7"),n("aZhHc"),n("9QIlA"),n("h56yM")}();
//# sourceMappingURL=index.522ea660.js.map
