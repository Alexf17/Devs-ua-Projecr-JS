!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a("iE7OH").register(JSON.parse('{"EVgbq":"index.0d73eeb2.js","e5oy7":"filmWrap.dabdf2b2.jpg","6IIJ4":"my-library.ecfbac06.js"}')),a("kFJWu");var i,s=a("bpxeT"),l=a("2TvXO"),c=a("awCm4"),o=a("4Nugj"),d=a("lmjT0"),u=a("5118m");i=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("e5oy7");s=a("bpxeT"),l=a("2TvXO"),d=a("lmjT0");function f(){o.refs.bodyEl.classList.add("no-scroll"),o.refs.preloaderEl.classList.remove("preloader--hide"),setTimeout((function(){o.refs.bodyEl.scrollIntoView({top:0,behavior:"smooth"})}),100)}function p(){o.refs.bodyEl.classList.remove("no-scroll");var e=Array.from(o.refs.imgElArr);0===e.length&&o.refs.preloaderEl.classList.add("preloader--hide"),e.forEach((function(t,r){t.onload=function(){r===e.length-1&&o.refs.preloaderEl.classList.add("preloader--hide")}}))}function m(e){o.refs.preloaderEl.classList.add("preloader--hide"),o.refs.bodyEl.classList.remove("no-scroll"),window.removeEventListener("load",m)}(o=a("4Nugj")).refs.bodyEl.classList.add("no-scroll"),o.refs.preloaderEl.classList.remove("preloader--hide"),window.addEventListener("load",m);o=a("4Nugj"),d=a("lmjT0");var _=a("6jzso"),g=(c=a("awCm4"),u=a("5118m"),new(0,d.default)),v=document.querySelector(".paginationBox"),h=0;function b(e,t){var r="",n=e-1,a=e+1,i=e+2;h=e,e>1&&(r+='<li class="paginationRow">&#129144;</li>'),e>1&&(r+="<li>1</li>"),e>4&&(r+="<li>...</li>"),e>3&&(r+="<li>".concat(e-2,"</li>")),e>2&&(r+="<li>".concat(n,"</li>")),r+='<li class="paginationPage--current">'.concat(e,"</li>"),t-1>e&&(r+="<li>".concat(a,"</li>")),t-2>e&&(r+="<li>".concat(i,"</li>")),t-3>e&&(r+="<li>...</li>"),t>e&&(r+='<li class="avd">'.concat(e+5,"</li>"),r+='<li class="paginationRow">&#129146;<li>'),v.innerHTML=r}function w(){return(w=e(s)(e(l).mark((function t(r){var n,a,i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(),"LI"===r.target.nodeName){e.next=3;break}return e.abrupt("return");case 3:if("ðŸ¡¸"!==r.target.textContent){e.next=12;break}return g.setPageNumber(h-=1),e.next=7,g.fetchPopularsFilms();case 7:return n=e.sent,(0,_.cleanerMarkup)(y),E(n),b(g.pageNumber,g.totalPages),e.abrupt("return");case 12:if("ðŸ¡º"!==r.target.textContent){e.next=22;break}return g.setPageNumber(h+=1),console.log(g.pageNumber),e.next=17,g.fetchPopularsFilms();case 17:return a=e.sent,(0,_.cleanerMarkup)(y),E(a),b(g.pageNumber,g.totalPages),e.abrupt("return");case 22:if("..."!==r.target.textContent){e.next=24;break}return e.abrupt("return");case 24:return i=r.target.textContent,g.setPageNumber(Number(i)),e.next=28,g.fetchPopularsFilms();case 28:s=e.sent,(0,_.cleanerMarkup)(y),E(s),b(g.pageNumber,g.totalPages),p();case 33:case"end":return e.stop()}}),t)})))).apply(this,arguments)}v.addEventListener("click",(function(e){return w.apply(this,arguments)}));var y=document.querySelector("ul.card__list");new(0,d.default);function E(e){if(o.refs.fetchDataValue=e,e){var t=e.map((function(e){var t=e.id,r=e.poster_path,n=e.title,a=e.genre_ids,i=e.release_date;return'<li class="film__item">\n        <a class="film__link" id="'.concat(t,'">\n  <div class="film__wrap">\n  <img src=').concat(r?"https://image.tmdb.org/t/p/original".concat(r):img,' class="film-item__img" alt="').concat(n,'" width="300">\n  </div>\n  <div>\n  <h3 class="film__title">').concat(n,'</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">').concat((0,c.searchGenresById)(a),'</p>\n  <p class="film__release-date">').concat(i?new Date(i).getFullYear():"Nobody know","</p>\n   </div>\n   </a>\n   </li>")})).join("");return(0,u.renderFoo)(t,y),t}}o=a("4Nugj");var x=new(0,d.default);document.querySelector("ul.card__list");function N(){return(N=e(s)(e(l).mark((function t(){var r,n;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.fetchPopularsFilms();case 2:return r=t.sent,o.refs.fetchDataValue=r,n=r.map((function(t){var r=t.id,n=t.poster_path,a=t.title,s=t.genre_ids,l=t.release_date;return'<li class="film__item">\n        <a class="film__link" id="'.concat(r,'">\n  <div class="film__wrap">\n      <img src=').concat(n?"https://image.tmdb.org/t/p/original".concat(n):e(i),' class="film-item__img" alt="').concat(a,'" width="300">\n  </div>\n  <div class="wrap__film>\n  <div class="film__title-wrap">\n  <h3 class="film__title">').concat(a,'</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">').concat((0,c.searchGenresById)(s)?(0,c.searchGenresById)(s):"Unknown genre",'</p>\n  <p class="film__release-date">').concat(l?new Date(l).getFullYear():"Nobody knows","</p>\n\n   </div>\n   </div>\n   </a>\n   </li>")})).join(""),(0,u.renderFoo)(n,o.refs.cardListEl),t.next=8,b(x.pageNumber,x.totalPages);case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){N.apply(this,arguments)}();s=a("bpxeT"),l=a("2TvXO"),d=a("lmjT0"),_=a("6jzso"),c=a("awCm4"),u=a("5118m"),o=a("4Nugj");var k=new(0,d.default);function L(){return(L=e(s)(e(l).mark((function t(r){var n,a;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r;case 2:if(n=t.sent,o.refs.fetchDataValue=n,n.length){t.next=9;break}return t.next=7,F();case 7:t.next=14;break;case 9:return o.refs.headerErrorEl.classList.add("visually-hidden"),a=n.map((function(t){var r=t.id,n=t.poster_path,a=t.title,s=t.genre_ids,l=t.release_date;return'<li class="film__item"><div class="test">\n        <a class="film__link" id="'.concat(r,'">\n  <div class="film__wrap">\n  <img src=').concat(n?"https://image.tmdb.org/t/p/original".concat(n):e(i),' class="film-item__img" alt="').concat(a,'" width="300">\n  </div>\n  <div class= "film__info">\n  <div class="film__title-wrap">\n  <h3 class="film__title">').concat(a,'</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">').concat((0,c.searchGenresById)(s)?(0,c.searchGenresById)(s):"Unknown genre",'</p>\n  <p class="film__release-date">').concat(l?new Date(l).getFullYear():"Nobody knows","</p>\n  </div>\n  \n   </div>\n   </div>\n   </a>\n   </li>")})).join(""),(0,u.renderFoo)(a,o.refs.cardListEl),p(),t.abrupt("return",a);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(){p(),o.refs.headerErrorEl.classList.remove("visually-hidden"),o.refs.headerFormEl.reset()}o.refs.headerFormEl.addEventListener("submit",(function(e){e.preventDefault();var t=e.target.elements[0].value.trim();if(!t)return void F();f(),(0,_.cleanerMarkup)(o.refs.cardListEl),k.setFilmName(t),function(e){L.apply(this,arguments)}(k.fetchFilmsByName())})),a("35fFx"),a("iWBTv"),a("3jSZ7"),a("aZhHc"),a("9QIlA"),a("h56yM")}();
//# sourceMappingURL=index.0d73eeb2.js.map
