function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=o.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},o.parcelRequired7c6=a),a.register("kyEFX",(function(t,o){var n,r;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};n=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)a[t[o]]=e[t[o]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("kyEFX").register(JSON.parse('{"7OqUs":"my-library.8a622aeb.js","fKKvY":"filmWrap.dabdf2b2.jpg"}'));const l={preloaderEl:document.querySelector("#preloader"),imgElArr:document.getElementsByClassName("film-item__img"),bodyEl:document.querySelector("body"),infoFilmWrapEl:document.querySelector(".infoFilm__wrap"),fetchDataValue:null,btnAnchorEl:document.getElementsByClassName("btn_anchor")[0],darkBtn:document.querySelector('button[data-theme="onDark"]'),lightBtn:document.querySelector('button[data-theme="onLight"]'),cardListEl:document.querySelector("ul.card__list"),headerFormEl:document.querySelector(".header__form"),headerErrorEl:document.querySelector(".header__error"),libBtnContainerEl:document.querySelector(".btn-container")};document.querySelector("body").onscroll=function(e){e.target.scrollingElement.scrollTop>0?l.btnAnchorEl.classList.remove("btn_anchor-hidden"):l.btnAnchorEl.classList.add("btn_anchor-hidden")},document.querySelector(".btn_anchor").addEventListener("click",(()=>{document.querySelector("body").scrollIntoView({top:0,behavior:"smooth"})})),l.darkBtn.addEventListener("click",(function(){l.bodyEl.classList.toggle("dark__theme"),localStorage.setItem("theme","dark")})),l.lightBtn.addEventListener("click",(function(){localStorage.setItem("theme",""),l.bodyEl.classList.remove("dark__theme")}));"dark"===localStorage.getItem("theme")&&l.bodyEl.classList.toggle("dark__theme");const i={openModal:document.querySelector(".footer__link"),ModalTeamBackdrop:document.querySelector(".team__backdrop"),ModalTeamBody:document.querySelector("body"),ModalTeamBtn:document.querySelector(".modal__close-button")};function d(){window.removeEventListener("keydown",c),i.ModalTeamBody.classList.remove("no-scroll"),i.ModalTeamBackdrop.classList.add("visually-hidden")}function c(e){"Escape"===e.code&&d()}i.openModal.addEventListener("click",(function(e){window.addEventListener("keydown",c),e.preventDefault(),i.ModalTeamBody.classList.add("no-scroll"),i.ModalTeamBackdrop.classList.remove("visually-hidden")})),i.ModalTeamBtn.addEventListener("click",d),i.ModalTeamBackdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&d()}));const s={authorizationBtn:document.querySelector("#headerAuthorization"),modalAuthorizationBackdrop:document.querySelector(".backdrop-modalAuthorization"),modalCloseAuthorozation:document.querySelector(".authorization__close"),modalAuthorizationLink:document.querySelector(".authorization__link"),modalRegistrationBackdrop:document.querySelector(".backdrop-modalRegistration"),modalCloseRegistration:document.querySelector(".registration__close")};function u(e,t){t.insertAdjacentHTML("beforeend",e)}s.authorizationBtn.addEventListener("click",(function(e){e.preventDefault(),s.modalAuthorizationBackdrop.classList.remove("visually-hidden")})),s.modalCloseAuthorozation.addEventListener("click",(function(e){e.preventDefault(),s.modalAuthorizationBackdrop.classList.add("visually-hidden")})),s.modalAuthorizationLink.addEventListener("click",(function(e){e.preventDefault(),s.modalAuthorizationBackdrop.classList.add("visually-hidden"),s.modalRegistrationBackdrop.classList.remove("visually-hidden")})),s.modalCloseRegistration.addEventListener("click",(function(e){e.preventDefault(),s.modalRegistrationBackdrop.classList.add("visually-hidden")}));var m;m=new URL(a("kyEFX").resolve("fKKvY"),import.meta.url).toString();const f={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",27:"Horror",36:"History",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"},h=e=>(e.length>2&&(e.splice(2),e.push("etc")),e.map((e=>f[e]||"etc")).join(", "));function y(e){e.innerHTML=""}let p="";l.libBtnContainerEl.addEventListener("click",(function(e){if(e.preventDefault(),"BUTTON"!==e.target.nodeName)return;p=e.target.id,async function(e){let o=null;"watched"===e&&(o=_.watchedFilms);"queue"===e&&(o=_.queueFilms);const n=o.map((({id:e,poster_path:o,title:n,genre_ids:r,release_date:a})=>`<li class="film__item">\n        <a class="film__link" id="${e}">\n  <div class="film__wrap">\n      <img src=${o?`https://image.tmdb.org/t/p/original${o}`:t(m)} class="film-item__img" alt="${n}" width="300">\n  </div>\n  <div class="wrap__film>\n  <div class="film__title-wrap">\n  <h3 class="film__title">${n}</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">${h(r)?h(r):"Unknown genre"}</p>\n  <p class="film__release-date">${a?new Date(a).getFullYear():"Nobody know"}</p>\n\n   </div>\n   </div>\n   </a>\n   </li>`)).join("");y(l.cardListEl),u(n,l.cardListEl)}(p)}));let _=JSON.parse(localStorage.getItem("localStorageData"));
//# sourceMappingURL=my-library.8a622aeb.js.map
