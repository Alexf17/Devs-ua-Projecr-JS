!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,r){n[e]=r},r.parcelRequired7c6=a),a("iE7OH").register(JSON.parse('{"EVgbq":"index.188427d0.js","e5oy7":"filmWrap.dabdf2b2.jpg","6IIJ4":"my-library.ecfbac06.js"}')),a("kFJWu");var l,i=a("bpxeT"),s=a("2TvXO"),c=a("awCm4"),o=a("4Nugj"),d=a("lmjT0"),u=a("5118m");l=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("e5oy7");i=a("bpxeT"),s=a("2TvXO"),d=a("lmjT0");function f(){o.refs.bodyEl.classList.add("no-scroll"),o.refs.preloaderEl.classList.remove("preloader--hide"),setTimeout((function(){o.refs.bodyEl.scrollIntoView({top:0,behavior:"smooth"})}),100)}function p(){o.refs.bodyEl.classList.remove("no-scroll");var e=Array.from(o.refs.imgElArr);0===e.length&&o.refs.preloaderEl.classList.add("preloader--hide"),e.forEach((function(r,t){r.onload=function(){t===e.length-1&&o.refs.preloaderEl.classList.add("preloader--hide")}}))}function m(e){o.refs.preloaderEl.classList.add("preloader--hide"),o.refs.bodyEl.classList.remove("no-scroll"),window.removeEventListener("load",m)}(o=a("4Nugj")).refs.bodyEl.classList.add("no-scroll"),o.refs.preloaderEl.classList.remove("preloader--hide"),window.addEventListener("load",m);o=a("4Nugj"),d=a("lmjT0");var _=a("6jzso"),g=(c=a("awCm4"),u=a("5118m"),new(0,d.default)),v=document.querySelector(".paginationBox"),h=0;function b(e,r){var t="",n=e-1,a=e+1,l=e+2;h=e,e>1&&(t+='<li class="paginationRow">&#129144;</li>'),e>1&&(t+="<li>1</li>"),e>4&&(t+="<li>...</li>"),e>3&&(t+="<li>".concat(e-2,"</li>")),e>2&&(t+="<li>".concat(n,"</li>")),t+='<li class="paginationPage--current">'.concat(e,"</li>"),r-1>e&&(t+="<li>".concat(a,"</li>")),r-2>e&&(t+="<li>".concat(l,"</li>")),r-3>e&&(t+="<li>...</li>"),r>e&&(t+='<li class="avd">'.concat(e+5,"</li>"),t+='<li class="paginationRow">&#129146;<li>'),v.innerHTML=t}function w(){return(w=e(i)(e(s).mark((function r(t){var n,a,l,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(),"LI"===t.target.nodeName){e.next=3;break}return e.abrupt("return");case 3:if("ðŸ¡¸"!==t.target.textContent){e.next=12;break}return g.setPageNumber(h-=1),e.next=7,g.fetchPopularsFilms();case 7:return n=e.sent,(0,_.cleanerMarkup)(y),E(n),b(g.pageNumber,g.totalPages),e.abrupt("return");case 12:if("ðŸ¡º"!==t.target.textContent){e.next=22;break}return g.setPageNumber(h+=1),console.log(g.pageNumber),e.next=17,g.fetchPopularsFilms();case 17:return a=e.sent,(0,_.cleanerMarkup)(y),E(a),b(g.pageNumber,g.totalPages),e.abrupt("return");case 22:if("..."!==t.target.textContent){e.next=24;break}return e.abrupt("return");case 24:return l=t.target.textContent,g.setPageNumber(Number(l)),e.next=28,g.fetchPopularsFilms();case 28:i=e.sent,(0,_.cleanerMarkup)(y),E(i),b(g.pageNumber,g.totalPages),p();case 33:case"end":return e.stop()}}),r)})))).apply(this,arguments)}v.addEventListener("click",(function(e){return w.apply(this,arguments)}));var y=document.querySelector("ul.card__list");new(0,d.default);function E(e){if(o.refs.fetchDataValue=e,e){var r=e.map((function(e){var r=e.id,t=e.poster_path,n=e.title,a=e.genre_ids,l=e.release_date;return'<li class="film__item">\n        <a class="film__link" id="'.concat(r,'">\n  <div class="film__wrap">\n  <img src=').concat(t?"https://image.tmdb.org/t/p/original".concat(t):img,' class="film-item__img" alt="').concat(n,'" width="300">\n  </div>\n  <div>\n  <h3 class="film__title">').concat(n,'</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">').concat((0,c.searchGenresById)(a),'</p>\n  <p class="film__release-date">').concat(l?new Date(l).getFullYear():"Nobody know","</p>\n   </div>\n   </a>\n   </li>")})).join("");return(0,u.renderFoo)(r,y),r}}o=a("4Nugj");var x=new(0,d.default);document.querySelector("ul.card__list");function N(){return(N=e(i)(e(s).mark((function r(){var t,n;return e(s).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.fetchPopularsFilms();case 2:return t=r.sent,o.refs.fetchDataValue=t,n=t.map((function(r){var t=r.id,n=r.poster_path,a=r.title,i=r.genre_ids,s=r.release_date;return'<li class="film__item">\n        <a class="film__link" id="'.concat(t,'">\n  <div class="film__wrap">\n      <img src=').concat(n?"https://image.tmdb.org/t/p/original".concat(n):e(l),' class="film-item__img" alt="').concat(a,'" width="300">\n  </div>\n  <div class="wrap__film>\n  <div class="film__title-wrap">\n  <h3 class="film__title">').concat(a,'</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">').concat((0,c.searchGenresById)(i)?(0,c.searchGenresById)(i):"Unknown genre",'</p>\n  <p class="film__release-date">').concat(s?new Date(s).getFullYear():"Nobody know","</p>\n\n   </div>\n   </div>\n   </a>\n   </li>")})).join(""),(0,u.renderFoo)(n,o.refs.cardListEl),r.next=8,b(x.pageNumber,x.totalPages);case 8:return r.abrupt("return",n);case 9:case"end":return r.stop()}}),r)})))).apply(this,arguments)}!function(){N.apply(this,arguments)}();i=a("bpxeT"),s=a("2TvXO"),d=a("lmjT0"),_=a("6jzso"),c=a("awCm4"),u=a("5118m"),o=a("4Nugj");var k=new(0,d.default);function L(){return(L=e(i)(e(s).mark((function r(t){var n,a;return e(s).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t;case 2:if(n=r.sent,o.refs.fetchDataValue=n,n.length){r.next=9;break}return r.next=7,F();case 7:r.next=14;break;case 9:return o.refs.headerErrorEl.classList.add("visually-hidden"),a=n.map((function(r){var t=r.id,n=r.poster_path,a=r.title,i=r.genre_ids,s=r.release_date;return'<li class="film__item">\n        <a class="film__link" id="'.concat(t,'">\n  <div class="film__wrap">\n  <img src=').concat(n?"https://image.tmdb.org/t/p/original".concat(n):e(l),' class="film-item__img" alt="').concat(a,'" width="300">\n  </div>\n  <div class="film__title-wrap">\n  <h3 class="film__title">').concat(a,'</h3>\n  </div>\n  <div class="film__genres-and-date">\n  <p class="film__genres">').concat((0,c.searchGenresById)(i)?(0,c.searchGenresById)(i):"Unknown genre",'</p>\n  <p class="film__release-date">').concat(s?new Date(s).getFullYear():"Nobody know","</p>\n  \n  \n   </div>\n   </a>\n   </li>")})).join(""),(0,u.renderFoo)(a,o.refs.cardListEl),p(),r.abrupt("return",a);case 14:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function F(){p(),o.refs.headerErrorEl.classList.remove("visually-hidden"),o.refs.headerFormEl.reset()}o.refs.headerFormEl.addEventListener("submit",(function(e){e.preventDefault();var r=e.target.elements[0].value.trim();if(!r)return void F();f(),(0,_.cleanerMarkup)(o.refs.cardListEl),k.setFilmName(r),function(e){L.apply(this,arguments)}(k.fetchFilmsByName())})),a("35fFx"),a("iWBTv"),a("3jSZ7"),a("aZhHc"),a("9QIlA"),a("h56yM")}();
//# sourceMappingURL=index.188427d0.js.map
